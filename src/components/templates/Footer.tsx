"use client"

import { Paths } from "@/config/consts"
import { Box, type BoxProps, Paper, SimpleGrid, Text, UnstyledButton } from "@mantine/core"
import Image from "next/image"
import { usePathname, useRouter } from "next/navigation"

interface Props extends BoxProps {
  isCurrent?: boolean
}

const Icon01 = ({ isCurrent = false, ...props }: Props) => {
  return (
    <Box {...props}>
      {/* biome-ignore lint/a11y/noSvgWithoutTitle: <explanation> */}
      <svg width="28" height="28" viewBox="0 0 21 23" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path
          d="M0.899994 20.658V8.376C0.899994 8.042 0.972438 7.72867 1.11733 7.436C1.26244 7.14311 1.46922 6.90089 1.73766 6.70934L9.65199 0.743667C10.0115 0.464556 10.4257 0.325001 10.8943 0.325001C11.363 0.325001 11.7809 0.464556 12.148 0.743667L20.0623 6.70934C20.3308 6.90089 20.5375 7.14311 20.6827 7.436C20.8275 7.72867 20.9 8.042 20.9 8.376V20.658C20.9 21.1153 20.7351 21.5089 20.4053 21.8387C20.0756 22.1684 19.682 22.3333 19.2247 22.3333H14.4813C14.1856 22.3333 13.9378 22.2334 13.738 22.0337C13.5382 21.8339 13.4383 21.5862 13.4383 21.2907V14.453C13.4383 14.1574 13.3384 13.9098 13.1387 13.71C12.9389 13.5102 12.6912 13.4103 12.3957 13.4103H9.40433C9.10877 13.4103 8.86111 13.5102 8.66133 13.71C8.46155 13.9098 8.36166 14.1574 8.36166 14.453V21.2907C8.36166 21.5862 8.26177 21.8339 8.06199 22.0337C7.86222 22.2334 7.61444 22.3333 7.31866 22.3333H2.57533C2.11799 22.3333 1.72444 22.1684 1.39466 21.8387C1.06488 21.5089 0.899994 21.1153 0.899994 20.658Z"
          fill={isCurrent ? "#0099FF" : "#1C1B1F"}
        />
      </svg>
      <Text fz={12} fw="bold" children="ホーム" c={isCurrent ? "#0099FF" : "#1C1B1F"} />
    </Box>
  )
}

const Icon02 = ({ isCurrent = false, ...props }: Props) => {
  return (
    <Box {...props}>
      {/* biome-ignore lint/a11y/noSvgWithoutTitle: <explanation> */}
      <svg width="28" height="28" viewBox="0 0 26 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path
          d="M18.127 23.3333C17.5817 23.3333 17.112 23.1363 16.718 22.7423C16.324 22.3483 16.127 21.8787 16.127 21.3333V15.7437C16.127 15.1983 16.324 14.7287 16.718 14.3347C17.112 13.9407 17.5817 13.7437 18.127 13.7437H23.7167C24.262 13.7437 24.7317 13.9407 25.1257 14.3347C25.5197 14.7287 25.7167 15.1983 25.7167 15.7437V21.3333C25.7167 21.8787 25.5197 22.3483 25.1257 22.7423C24.7317 23.1363 24.262 23.3333 23.7167 23.3333H18.127ZM17.802 21.658H24.0413V15.4187H17.802V21.658ZM1.221 19.376C0.983665 19.376 0.784776 19.2953 0.624331 19.134C0.463665 18.9727 0.383331 18.7727 0.383331 18.534C0.383331 18.2953 0.463665 18.0968 0.624331 17.9383C0.784776 17.7801 0.983665 17.701 1.221 17.701H11.033C11.2703 17.701 11.4692 17.7817 11.6297 17.943C11.7903 18.1043 11.8707 18.3043 11.8707 18.543C11.8707 18.7817 11.7903 18.9801 11.6297 19.1383C11.4692 19.2968 11.2703 19.376 11.033 19.376H1.221ZM18.127 10.2563C17.5817 10.2563 17.112 10.0593 16.718 9.66534C16.324 9.27134 16.127 8.80167 16.127 8.25633V2.66667C16.127 2.12133 16.324 1.65167 16.718 1.25767C17.112 0.863667 17.5817 0.666668 18.127 0.666668H23.7167C24.262 0.666668 24.7317 0.863667 25.1257 1.25767C25.5197 1.65167 25.7167 2.12133 25.7167 2.66667V8.25633C25.7167 8.80167 25.5197 9.27134 25.1257 9.66534C24.7317 10.0593 24.262 10.2563 23.7167 10.2563H18.127ZM17.802 8.58133H24.0413V2.342H17.802V8.58133ZM1.221 6.299C0.983665 6.299 0.784776 6.21834 0.624331 6.057C0.463665 5.89567 0.383331 5.69567 0.383331 5.457C0.383331 5.21834 0.463665 5.01989 0.624331 4.86167C0.784776 4.70322 0.983665 4.624 1.221 4.624H11.033C11.2703 4.624 11.4692 4.70467 11.6297 4.866C11.7903 5.02733 11.8707 5.22733 11.8707 5.466C11.8707 5.70467 11.7903 5.90322 11.6297 6.06167C11.4692 6.21989 11.2703 6.299 11.033 6.299H1.221Z"
          fill={isCurrent ? "#0099FF" : "#1C1B1F"}
        />
      </svg>
      <Text fz={12} fw="bold" children="作品一覧" c={isCurrent ? "#0099FF" : "#1C1B1F"} />
    </Box>
  )
}

const Icon03 = ({ isCurrent = false, ...props }: Props) => {
  return (
    <Box {...props}>
      {/* biome-ignore lint/a11y/noSvgWithoutTitle: <explanation> */}
      <svg width="28" height="28" viewBox="0 0 26 26" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path
          d="M4.44242 25.6667C3.3942 25.6667 2.49731 25.2929 1.75176 24.5453C1.0062 23.798 0.633423 22.9002 0.633423 21.852C0.633423 20.8038 1.00687 19.9068 1.75376 19.161C2.50065 18.4154 3.39787 18.0427 4.44542 18.0427C4.84942 18.0427 5.2352 18.1038 5.60276 18.226C5.97031 18.348 6.30787 18.522 6.61542 18.748L12.4624 12.9147V7.87099C11.6135 7.66855 10.9056 7.22332 10.3388 6.53532C9.77165 5.8471 9.48809 5.05044 9.48809 4.14532C9.48809 3.09777 9.86187 2.20055 10.6094 1.45366C11.357 0.706768 12.2549 0.333324 13.3031 0.333324C14.3513 0.333324 15.2482 0.706768 15.9938 1.45366C16.7393 2.20055 17.1121 3.09777 17.1121 4.14532C17.1121 5.05044 16.8308 5.8471 16.2681 6.53532C15.7054 7.22332 14.9953 7.66855 14.1378 7.87099V12.9147L19.9831 18.748C20.2975 18.522 20.6381 18.348 21.0048 18.226C21.3714 18.1038 21.7548 18.0427 22.1548 18.0427C23.2023 18.0427 24.0995 18.4164 24.8464 19.164C25.5933 19.9115 25.9668 20.8094 25.9668 21.8577C25.9668 22.9059 25.593 23.8028 24.8454 24.5483C24.0981 25.2939 23.2003 25.6667 22.1521 25.6667C21.1039 25.6667 20.2069 25.2932 19.4611 24.5463C18.7155 23.7994 18.3428 22.9022 18.3428 21.8547C18.3428 21.5135 18.386 21.1863 18.4724 20.873C18.5591 20.5594 18.6825 20.2659 18.8428 19.9923L13.3001 14.436L7.75742 19.9923C7.91765 20.2659 8.04109 20.5594 8.12776 20.873C8.2142 21.1863 8.25742 21.5135 8.25742 21.8547C8.25742 22.9022 7.88365 23.7994 7.13609 24.5463C6.38853 25.2932 5.49065 25.6667 4.44242 25.6667ZM22.1508 23.9913C22.7483 23.9913 23.2545 23.7853 23.6694 23.3733C24.0841 22.9613 24.2914 22.4564 24.2914 21.8587C24.2914 21.2611 24.0854 20.755 23.6734 20.3403C23.2614 19.9254 22.7565 19.718 22.1588 19.718C21.5612 19.718 21.0551 19.924 20.6404 20.336C20.2255 20.748 20.0181 21.2529 20.0181 21.8507C20.0181 22.4482 20.2241 22.9544 20.6361 23.3693C21.0481 23.784 21.553 23.9913 22.1508 23.9913ZM13.2961 6.28199C13.8936 6.28199 14.3999 6.07599 14.8148 5.66399C15.2294 5.25199 15.4368 4.7471 15.4368 4.14932C15.4368 3.55177 15.2308 3.04555 14.8188 2.63066C14.4068 2.21599 13.9019 2.00866 13.3041 2.00866C12.7065 2.00866 12.2003 2.21466 11.7854 2.62666C11.3708 3.03866 11.1634 3.54355 11.1634 4.14132C11.1634 4.73888 11.3694 5.24499 11.7814 5.65966C12.1934 6.07455 12.6983 6.28199 13.2961 6.28199ZM4.44142 23.9913C5.03898 23.9913 5.54509 23.7853 5.95976 23.3733C6.37465 22.9613 6.58209 22.4564 6.58209 21.8587C6.58209 21.2611 6.37609 20.755 5.96409 20.3403C5.55209 19.9254 5.0472 19.718 4.44942 19.718C3.85187 19.718 3.34565 19.924 2.93076 20.336C2.51609 20.748 2.30876 21.2529 2.30876 21.8507C2.30876 22.4482 2.51476 22.9544 2.92676 23.3693C3.33876 23.784 3.84365 23.9913 4.44142 23.9913Z"
          fill={isCurrent ? "#0099FF" : "#1C1B1F"}
        />
      </svg>
      <Text fz={10} fw="bold" children="Token Graph" c={isCurrent ? "#0099FF" : "#1C1B1F"} />
    </Box>
  )
}

const Icon04 = ({ isCurrent = false, ...props }: Props) => {
  return (
    <Box {...props}>
      {/* biome-ignore lint/a11y/noSvgWithoutTitle: <explanation> */}
      <svg width="28" height="28" viewBox="0 0 13 25" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path
          d="M6.45001 22.482L4.31667 24.105C4.07556 24.2879 3.83667 24.2935 3.60001 24.1217C3.36334 23.9499 3.29201 23.7212 3.38601 23.4357L4.22434 20.7794L2.12434 19.2897C1.88345 19.129 1.81212 18.9081 1.91034 18.627C2.00856 18.3457 2.20045 18.205 2.48601 18.205H5.02967L5.98834 15.087L1.35767 12.364C0.940562 12.1196 0.616672 11.791 0.386006 11.3783C0.155117 10.9655 0.0396729 10.5077 0.0396729 10.005V2.46168C0.0396729 1.79657 0.275229 1.22857 0.74634 0.757683C1.21723 0.286794 1.78512 0.0513496 2.45001 0.0513496H10.45C11.1149 0.0513496 11.6828 0.286794 12.1537 0.757683C12.6248 1.22857 12.8603 1.79657 12.8603 2.46168V10.005C12.8603 10.499 12.7407 10.9482 12.5013 11.3527C12.262 11.7569 11.9338 12.0855 11.5167 12.3384L6.91167 15.087L7.87034 18.205H10.414C10.6996 18.205 10.8915 18.3457 10.9897 18.627C11.0879 18.9081 11.0166 19.129 10.7757 19.2897L8.67567 20.7794L9.51401 23.4357C9.60801 23.7212 9.53667 23.9499 9.30001 24.1217C9.06334 24.2935 8.82445 24.2879 8.58334 24.105L6.45001 22.482ZM2.03967 2.46168V10.005C2.03967 10.1332 2.07178 10.2508 2.13601 10.3577C2.20001 10.4646 2.28756 10.5522 2.39867 10.6207L5.45001 12.4257V2.05135H2.45001C2.33023 2.05135 2.23189 2.08979 2.15501 2.16668C2.07812 2.24357 2.03967 2.34191 2.03967 2.46168ZM10.45 2.05135H7.45001V12.4257L10.5013 10.6207C10.6125 10.5522 10.7 10.4646 10.764 10.3577C10.8282 10.2508 10.8603 10.1332 10.8603 10.005V2.46168C10.8603 2.34191 10.8219 2.24357 10.745 2.16668C10.6681 2.08979 10.5698 2.05135 10.45 2.05135Z"
          fill={isCurrent ? "#0099FF" : "#1C1B1F"}
        />
      </svg>
      <Text fz={12} fw="bold" children="投稿実績" c={isCurrent ? "#0099FF" : "#1C1B1F"} />
    </Box>
  )
}

export const Footer = () => {
  const router = useRouter()
  const pathname = usePathname()

  return (
    <Box mx={8} pos="sticky" bottom={8} style={{ zIndex: 99 }}>
      <Paper px={20} bg="white" radius={9999} shadow="lg">
        <SimpleGrid cols={5} spacing={0} style={{ alignItems: "center" }}>
          <UnstyledButton py={10} ta="center" onClick={() => router.push(Paths.CONTENTS)}>
            <Icon01 isCurrent={pathname === Paths.CONTENTS} />
          </UnstyledButton>
          <UnstyledButton py={10} ta="center" onClick={() => router.push(Paths.MYPAGE_CONTENTS)}>
            <Icon02 isCurrent={pathname === Paths.MYPAGE_CONTENTS} />
          </UnstyledButton>
          <UnstyledButton mx="auto" onClick={() => router.push(Paths.CONTENT_CREATE)}>
            <Image width={40} height={40} objectFit="contain" src="/images/footer-center.svg" alt="投稿する" />
          </UnstyledButton>
          <UnstyledButton py={10} ta="center" onClick={() => router.push(Paths.TOKEN_GRAPH)}>
            <Icon03 isCurrent={pathname === Paths.TOKEN_GRAPH} />
          </UnstyledButton>
          <UnstyledButton py={10} ta="center" onClick={() => router.push(Paths.MYPAGE_ACHIVEMENTS)}>
            <Icon04 pt={1} isCurrent={pathname === Paths.MYPAGE_ACHIVEMENTS} />
          </UnstyledButton>
        </SimpleGrid>
      </Paper>
    </Box>
  )
}
